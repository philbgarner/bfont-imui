{"version":3,"file":"bfont-imui.js","mappings":"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","sources":["webpack://imui/webpack/universalModuleDefinition","webpack://imui/external umd \"canvas\"","webpack://imui/webpack/bootstrap","webpack://imui/webpack/runtime/define property getters","webpack://imui/webpack/runtime/hasOwnProperty shorthand","webpack://imui/webpack/runtime/make namespace object","webpack://imui/./src/elements/Element.js","webpack://imui/./src/elements/FrameFlat.js","webpack://imui/./src/elements/Frame3d.js","webpack://imui/./src/elements/Button3d.js","webpack://imui/./src/elements/ButtonFlat.js","webpack://imui/./src/elements/TextBoxFlat.js","webpack://imui/./src/elements/List.js","webpack://imui/./src/elements/Image.js","webpack://imui/./src/elements/FrameImage.js","webpack://imui/./src/elements/ButtonImage.js","webpack://imui/./src/imui.js","webpack://imui/./src/elements.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"canvas\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"canvas\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"imui\"] = factory(require(\"canvas\"));\n\telse\n\t\troot[\"imui\"] = factory(root[\"canvas\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__517__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__517__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { createCanvas } from 'canvas'\r\n\r\nclass Element {\r\n    constructor(params) {\r\n        if (!params.id) {\r\n            throw new Error('Element must have unique id.')\r\n        }\r\n        this.id = params.id\r\n\r\n        this.autosize = params.autosize ? params.autosize : true\r\n        if (params.rect) {\r\n            this.autosize = false\r\n        }\r\n        this.rect = params.rect ? params.rect : { x: 0, y: 0, w: 0, h: 0 }\r\n        this.color = params.color ? params.color : '#ccccccff'\r\n        this.bgcolor = params.bgcolor ? params.bgcolor : undefined\r\n        this.text = params.text ? params.text : ''\r\n        this.prevText = this.text\r\n        \r\n        this.font = params.font ? params.font : null\r\n\r\n        this.rect.x = params.x ? params.x : this.rect.x\r\n        this.rect.y = params.y ? params.y : this.rect.y\r\n\r\n        this.state = {\r\n            clicked: false,\r\n            mouseOver: false,\r\n            mouseDown: false,\r\n            mouseUp: false,\r\n            change: true\r\n        }\r\n        this.prevState = params.prevState ? params.prevState :\r\n            {\r\n                clicked: false,\r\n                mouseOver: false,\r\n                mouseDown: false,\r\n                mouseUp: false,\r\n                change: false\r\n            }\r\n\r\n        this.buffer = null\r\n        if (params.drawBuffer) {\r\n            this.InitializeBuffer()\r\n        }\r\n    }\r\n\r\n    InitializeBuffer(margin) {\r\n        console.log('initializebuffer', margin)\r\n        let mx = 0, my = 0\r\n        if (margin) {\r\n            mx = margin.x\r\n            my = margin.y\r\n            this.margin = margin\r\n        } else {\r\n            this.margin = { x: 0, y: 0 }\r\n        }\r\n        try {\r\n            this.buffer = document.createElement('canvas')\r\n            this.buffer.width = this.rect.w + mx\r\n            this.buffer.height = this.rect.h + my\r\n            this.bufferCtx = this.buffer.getContext('2d')\r\n        } catch {\r\n            this.buffer = createCanvas(this.rect.w + mx, this.rect.h + my)\r\n            this.bufferCtx = this.buffer.getContext('2d')\r\n        }\r\n    }\r\n\r\n    DidChangeState() {\r\n        return this.prevState.clicked !== this.state.clicked ||\r\n            this.prevState.mouseOver !== this.state.mouseOver ||\r\n            this.prevState.mouseDown !== this.state.mouseDown ||\r\n            this.prevState.mouseUp !== this.state.mouseUp ||\r\n            this.prevState.change !== this.state.change\r\n    }\r\n\r\n    BuildPreviousState() {\r\n        return {\r\n            clicked: this.state.clicked,\r\n            mouseOver: this.state.mouseOver,\r\n            mouseDown: this.state.mouseDown,\r\n            mouseUp: this.state.mouseUp,\r\n            change: this.state.change\r\n        }\r\n    }\r\n\r\n    InsideRect(x, y, rect) {\r\n        let r = rect ? rect : this.rect\r\n        return x >= r.x && x < r.x + r.w && y >= r.y && y < r.y + r.h\r\n    }\r\n\r\n    Clicked() { return this.state.clicked }\r\n    Hover() { return this.state.mouseOver }\r\n    MouseDown() { return this.state.mouseDown }\r\n    MouseUp() { return this.state.mouseUp }\r\n\r\n    setState(params) {\r\n        this.prevState = this.BuildPreviousState()\r\n        for (let p in params) {\r\n            this.state[p] = params[p]\r\n        }\r\n    }\r\n\r\n    Update(imui, eventHandled) {\r\n        let evt = false\r\n        if (this.autosize) {\r\n            this.rect.w = this.text.length * imui.font.cwidth\r\n            this.rect.h = imui.font.cheight\r\n        }\r\n        if (this.state.clicked && this.id !== imui.active) {\r\n            imui.active = this.id\r\n            this.setState({ changed: true })\r\n            evt = true\r\n        }\r\n        if (imui.mousePos.x >= this.rect.x && imui.mousePos.y >= this.rect.y && imui.mousePos.x <= this.rect.x + this.rect.w && imui.mousePos.y <= this.rect.y + this.rect.h) {\r\n            if (this.state.mouseOver && this.state.clicked) {\r\n                this.setState({ mouseOver: true, clicked: false})\r\n                evt = true\r\n            } else if (!eventHandled) {\r\n                this.setState({ mouseOver: true })\r\n                evt = true\r\n            }\r\n            if (imui.mouseButton > 0 && !this.state.mouseDown) {\r\n                this.setState({ mouseDown: true })\r\n                evt = true\r\n            } else if (imui.mouseButton === 0 && this.prevState.mouseDown) {\r\n                this.setState({ mouseUp: true, mouseDown: false })\r\n                evt = true\r\n            }\r\n        } else {\r\n            this.setState({ mouseOver: false, mouseDown: false, mouseUp: false, clicked: false })\r\n        }\r\n        if (imui.mouseButton === 0 && this.state.mouseUp) {\r\n            this.setState({ mouseUp: false, clicked: true })\r\n            imui.active = this.id\r\n            evt = true\r\n        }\r\n        if (this.text !== this.prevText) {\r\n            this.setState({ change: true })\r\n            this.prevText = this.text\r\n        } else {\r\n            this.setState({ change: false })\r\n        }        \r\n        \r\n        return evt\r\n    }\r\n\r\n    _Draw(imui, rect) {\r\n        if (this.bgcolor) {\r\n            imui.DrawRect(rect, this.bgcolor)\r\n        }\r\n\r\n        let textcolor = this.color\r\n        if (this.id === imui.active) {\r\n            textcolor = this.highlight ? this.highlight : textcolor\r\n        }\r\n\r\n        if (this.font) {\r\n            imui.DrawTextFont(this.font, rect.x, rect.y, this.text, textcolor)\r\n        } else {\r\n            imui.DrawText(rect.x, rect.y, this.text, textcolor)\r\n        }\r\n    }\r\n\r\n    Draw(imui) {\r\n        let rect = this.rect\r\n        if (this.buffer) {\r\n            imui.ChangeContext(this.buffer)\r\n            rect = { x: 0, y: 0, w: this.rect.w, h: this.rect.h }\r\n\r\n            if (this.DidChangeState() || (!this.initialDrawComplete)) {\r\n                if (this.buffer) {\r\n                    this.bufferCtx.clearRect(0, 0, rect.w, rect.h)\r\n                }\r\n                \r\n                this._Draw(imui, rect)\r\n                this.initialDrawComplete = true\r\n            }\r\n\r\n            imui.ResetContext()\r\n            imui.ctx.drawImage(this.buffer, this.rect.x, this.rect.y)\r\n        } else {\r\n            this._Draw(imui, this.rect)\r\n        }\r\n    }\r\n}\r\n\r\nexport default Element\r\n","import Element from './Element.js'\r\n\r\nclass FrameFlat extends Element {\r\n    constructor(params) {\r\n        super(params)\r\n        this.rect.h = parseInt(this.rect.h / 16) * 16\r\n        this.rect.w = parseInt(this.rect.w / 9) * 9\r\n\r\n        if (params.drawBuffer) {\r\n            this.InitializeBuffer({x: 9, y: 32})\r\n        }\r\n    }\r\n\r\n    _Draw(imui, rect) {\r\n        if (this.bgcolor) {\r\n            imui.DrawRect(rect, this.bgcolor)\r\n        }\r\n        let txt = this.text.length > (rect.w - 2) / imui.font.cwidth ? this.text.substr(0, parseInt((rect.w - 2) / imui.font.cwidth)) : this.text\r\n\r\n        let borderRect = { x: rect.x + imui.font.cwidth / 2, y: rect.y + imui.font.cheight / 2, w: rect.w - imui.font.cwidth, h: rect.h - imui.font.cheight}\r\n        imui.StrokeRect(borderRect, this.color)\r\n\r\n        imui.DrawText(rect.x + imui.font.cwidth, rect.y + imui.font.cheight, txt, this.color)\r\n    }\r\n}\r\n\r\nexport default FrameFlat","import Element from './Element.js'\r\n\r\nclass Frame3d extends Element {\r\n    constructor(params) {\r\n        super(params)\r\n        this.rect.h = parseInt(this.rect.h / 16) * 16\r\n        this.rect.w = parseInt(this.rect.w / 9) * 9\r\n\r\n        if (params.drawBuffer) {\r\n            this.InitializeBuffer({x: 9, y: 32})\r\n        }\r\n    }\r\n\r\n    _Draw(imui, rect) {\r\n        if (this.bgcolor) {\r\n            imui.DrawRect(rect, this.bgcolor)\r\n        }\r\n        let txt = this.text.length > (rect.w - 2) / imui.font.cwidth ? this.text.substr(0, parseInt((rect.w - 2) / imui.font.cwidth)) : this.text\r\n\r\n        let borderRect = { x: rect.x + imui.font.cwidth / 2, y: rect.y + imui.font.cheight / 2, w: rect.w - imui.font.cwidth, h: rect.h - imui.font.cheight}\r\n\r\n        let highlight = !this.inverted ? this.highlight : this.shadow\r\n        let shadow = !this.inverted ? this.shadow : this.highlight\r\n\r\n        imui.StrokeLine(borderRect.x, borderRect.y, borderRect.x + borderRect.w, borderRect.y, highlight)\r\n        imui.StrokeLine(borderRect.x + borderRect.w, borderRect.y, borderRect.x + borderRect.w, borderRect.y + borderRect.h, highlight)\r\n        imui.StrokeLine(borderRect.x, borderRect.y + borderRect.h, borderRect.x + borderRect.w, borderRect.y + borderRect.h, shadow)\r\n        imui.StrokeLine(borderRect.x, borderRect.y, borderRect.x, borderRect.y + borderRect.h, shadow)\r\n\r\n        imui.DrawText(rect.x + imui.font.cwidth, rect.y + imui.font.cheight, txt, this.color)\r\n    }\r\n}\r\n\r\nexport default Frame3d","import Element from './Element.js'\r\n\r\nclass Button3d extends Element {\r\n    constructor(params) {\r\n        super(params)\r\n        this.rect.h = parseInt(this.rect.h / 16) * 16\r\n        this.rect.w = parseInt(this.rect.w / 9) * 9\r\n\r\n        if (params.drawBuffer) {\r\n            this.InitializeBuffer({x: 9, y: 32})\r\n        }\r\n    }\r\n\r\n    _Draw(imui, rect) {\r\n        if (this.bgcolor) {\r\n            imui.DrawRect(rect, this.bgcolor)\r\n        }\r\n        let txt = this.text.length > (rect.w - 2) / imui.font.cwidth ? this.text.substr(0, parseInt((rect.w - 2) / imui.font.cwidth)) : this.text\r\n\r\n        let borderRect = { x: rect.x + imui.font.cwidth / 2, y: rect.y + imui.font.cheight / 2, w: rect.w - imui.font.cwidth, h: rect.h - imui.font.cheight}\r\n        \r\n        let inverted = this.inverted ? this.inverted : false\r\n        if (this.state.mouseDown) {\r\n            inverted = true\r\n        }\r\n\r\n        let highlight = !inverted ? this.highlight : this.shadow\r\n        let shadow = !inverted ? this.shadow : this.highlight\r\n\r\n        imui.StrokeLine(borderRect.x, borderRect.y, borderRect.x + borderRect.w, borderRect.y, highlight)\r\n        imui.StrokeLine(borderRect.x + borderRect.w, borderRect.y, borderRect.x + borderRect.w, borderRect.y + borderRect.h, highlight)\r\n        imui.StrokeLine(borderRect.x, borderRect.y + borderRect.h, borderRect.x + borderRect.w, borderRect.y + borderRect.h, shadow)\r\n        imui.StrokeLine(borderRect.x, borderRect.y, borderRect.x, borderRect.y + borderRect.h, shadow)\r\n\r\n        let mx = 0, my = 0\r\n        if (this.state.mouseDown) {\r\n            mx = parseInt(imui.font.cwidth * 0.3)\r\n            my = parseInt(imui.font.cheight * 0.1)\r\n        }\r\n        imui.DrawText(borderRect.x + mx + borderRect.w / 2 - (txt.length * imui.font.cwidth) / 2, borderRect.y + my + borderRect.h / 2 - imui.font.cheight / 2, txt, this.color)\r\n    }\r\n}\r\n\r\nexport default Button3d","import Element from './Element.js'\r\n\r\nclass ButtonFlat extends Element {\r\n    constructor(params) {\r\n        super(params)\r\n        this.rect.h = parseInt(this.rect.h / 16) * 16\r\n        this.rect.w = parseInt(this.rect.w / 9) * 9\r\n\r\n        this.leftChar = params.leftChar ? params.leftChar : '<'\r\n        this.rightChar = params.rightChar ? params.rightChar : '>'\r\n\r\n        if (params.drawBuffer) {\r\n            this.InitializeBuffer({x: 9, y: 32})\r\n        }\r\n    }\r\n\r\n    _Draw(imui, rect) {\r\n        let txt = this.text.length > (rect.w - 2) / imui.font.cwidth ? this.text.substr(0, parseInt((rect.w - 2) / imui.font.cwidth)) : this.text\r\n\r\n        let textcolor = this.color\r\n        let bgcolor = this.bgcolor\r\n\r\n        if (this.state.mouseOver && !this.state.mouseDown && this.highlight) {\r\n            textcolor = this.highlight\r\n        }\r\n\r\n        if (bgcolor) {\r\n            if (this.state.mouseDown) {\r\n                textcolor = this.bgcolor\r\n                bgcolor = this.color\r\n            }\r\n\r\n            imui.DrawRect(rect, bgcolor)\r\n        }\r\n        if (this.id === imui.active) {\r\n            textcolor = this.highlight ? this.highlight : textcolor\r\n        }\r\n\r\n        imui.DrawText(rect.x + rect.w / 2 - (txt.length * imui.font.cwidth) / 2, rect.y + rect.h / 2 - imui.font.cheight / 2, txt, textcolor)\r\n\r\n        imui.DrawText(rect.x, rect.y + rect.h / 2 - imui.font.cheight / 2, this.leftChar, textcolor)\r\n        imui.DrawText(rect.x + rect.w - imui.font.cwidth, rect.y + rect.h / 2 - imui.font.cheight / 2, this.rightChar, textcolor)\r\n    }\r\n}\r\n\r\nexport default ButtonFlat","import Element from './Element.js'\r\n\r\nclass TextBoxFlat extends Element {\r\n    constructor(params) {\r\n        super(params)\r\n        this.rect.h = parseInt(this.rect.h / 16) * 16\r\n        this.rect.w = parseInt(this.rect.w / 9) * 9\r\n\r\n        this.text = params.defaultText ? params.defaultText : ''\r\n            \r\n        this.editable = params.editable ? params.editable : true\r\n\r\n        if (params.drawBuffer) {\r\n            this.InitializeBuffer({x: 9, y: 32})\r\n        }\r\n    }\r\n\r\n    Text() { return this.text }\r\n\r\n    _Draw(imui, rect) {\r\n        let txt = this.text.length > (rect.w - imui.font.cwidth * 2) / imui.font.cwidth ? this.text.substr(0, parseInt((rect.w - 2) / imui.font.cwidth)) : this.text\r\n\r\n        let textcolor = this.color\r\n        let bgcolor = this.bgcolor\r\n\r\n        if (this.state.mouseOver && !this.state.mouseDown && this.highlight) {\r\n            textcolor = this.highlight\r\n        }\r\n\r\n        if (bgcolor) {\r\n            if (this.state.mouseDown) {\r\n                textcolor = this.bgcolor\r\n                bgcolor = this.color\r\n            }\r\n\r\n            imui.DrawRect(rect, bgcolor)\r\n        }\r\n\r\n        if (this.id === imui.active) {\r\n            textcolor = this.highlight ? this.highlight : textcolor\r\n            if (Date.now() % 1000 > 500) {\r\n                imui.DrawText(rect.x + imui.font.cwidth + txt.length * imui.font.cwidth, rect.y + rect.h / 2 - imui.font.cheight / 2, '_', textcolor)\r\n            }\r\n        }\r\n        imui.DrawText(rect.x + imui.font.cwidth, rect.y + rect.h / 2 - imui.font.cheight / 2, txt, textcolor)\r\n\r\n\r\n        let leftChar = '[', rightChar = ']'\r\n\r\n        imui.DrawText(rect.x, rect.y + rect.h / 2 - imui.font.cheight / 2, leftChar, textcolor)\r\n        imui.DrawText(rect.x + rect.w - imui.font.cwidth, rect.y + rect.h / 2 - imui.font.cheight / 2, rightChar, textcolor)\r\n    }\r\n}\r\n\r\nexport default TextBoxFlat","import Element from './Element.js'\r\n\r\nclass List extends Element {\r\n    constructor(params) {\r\n        super(params)\r\n        this.rect.h = parseInt(this.rect.h / 16) * 16\r\n        this.rect.w = parseInt(this.rect.w / 9) * 9\r\n\r\n        this.bgScrollbar = params.bgScrollbar ? params.bgScrollbar : '#645355ff'\r\n        this.list = params.list ? params.list : []\r\n        this.currentItem = null\r\n        this.scrollOffset = 0\r\n        this.horizontal = params.horizontal ? params.horizontal : false\r\n        this.scrollbar = params.scrollbar ? params.scrollbar : true\r\n\r\n        this.draggingCaret = false\r\n    }\r\n\r\n    _Draw(imui, rect) {\r\n        let textcolor = this.color\r\n        let bgcolor = this.bgcolor\r\n\r\n        if (this.state.mouseOver && !this.state.mouseDown && this.highlight) {\r\n            textcolor = this.highlight\r\n        }\r\n\r\n        if (bgcolor) {\r\n            imui.DrawRect(rect, bgcolor)\r\n        }\r\n\r\n        let dx = rect.x + imui.font.cwidth\r\n        let dy = rect.y\r\n        for (let l = this.scrollOffset; l < this.list.length; l++) {\r\n            let txt = this.list[l]\r\n\r\n            let txtRect = { x: dx, y: dy, w: txt.length * imui.font.cwidth, h: imui.font.cheight }\r\n            let isHoverItem = this.state.mouseOver &&\r\n                imui.mousePos.y >= txtRect.y && imui.mousePos.x >= txtRect.x &&\r\n                imui.mousePos.x < txtRect.x + txtRect.w && imui.mousePos.y < txtRect.y + txtRect.h\r\n            let isMouseDownItem = this.state.mouseDown && imui.mousePos.y >= txtRect.y && imui.mousePos.x >= txtRect.x &&\r\n                    imui.mousePos.x < txtRect.x + txtRect.w && imui.mousePos.y < txtRect.y + txtRect.h\r\n            if (isMouseDownItem) {\r\n                this.currentItem = l\r\n            }\r\n\r\n            imui.DrawText(dx, dy, txt, isHoverItem ? textcolor : this.color, isHoverItem || this.currentItem === l ? { background: { colour: isMouseDownItem ? '#ccccccff' : this.bgScrollbar }} : undefined)\r\n            if (!this.horizontal) {\r\n                dy += imui.font.cheight\r\n            } else {\r\n                dx += imui.font.cwidth * (txt.length + 1)\r\n            }\r\n            if (dx > rect.x + rect.w) {\r\n                break\r\n            }\r\n            if (dy + imui.font.cheight > rect.y + rect.h) {\r\n                break\r\n            }\r\n        }\r\n        \r\n        if (this.rect.h < imui.font.cheight * this.list.length && !this.horizontal) {\r\n            let upRect = { x: rect.x + rect.w - imui.font.cwidth, y: rect.y, w: imui.font.cwidth, h: imui.font.cheight}\r\n            let downRect = { x: rect.x + rect.w - imui.font.cwidth, y: rect.y + rect.h - imui.font.cheight, w: imui.font.cwidth, h: imui.font.cheight}\r\n            let scrollBarRect = { x: rect.x + rect.w - imui.font.cwidth, y: rect.y + imui.font.cheight, w: imui.font.cwidth, h: rect.h - (imui.font.cheight * 2) }\r\n            imui.DrawRect(scrollBarRect, this.bgScrollbar)\r\n            imui.DrawText(upRect.x, upRect.y, 24, this.InsideRect(imui.mousePos.x, imui.mousePos.y, upRect) && this.state.mouseDown ? this.highlight : this.color, \r\n                this.InsideRect(imui.mousePos.x, imui.mousePos.y, upRect) && this.state.mouseDown ? { background: { colour: this.color } } : { background: { colour: this.bgScrollbar } })\r\n            imui.DrawText(downRect.x, downRect.y, 25, this.InsideRect(imui.mousePos.x, imui.mousePos.y, downRect) && this.state.mouseDown ? this.highlight : this.color, \r\n                this.InsideRect(imui.mousePos.x, imui.mousePos.y, downRect) && this.state.mouseDown ? { background: { colour: this.color } } : { background: { colour: this.bgScrollbar } })\r\n\r\n            let caretPos = (this.scrollOffset / (this.list.length - 1)) * scrollBarRect.h\r\n            let caretColr = this.color\r\n            let caretBg = this.bgScrollbar\r\n\r\n            if (!this.draggingCaret) {\r\n                if (this.InsideRect(imui.mousePos.x, imui.mousePos.y, upRect) && this.Clicked()) {\r\n                    if (this.scrollOffset !== null) {\r\n                        this.scrollOffset = this.scrollOffset - 1 < 0 ? 0: this.scrollOffset - 1\r\n                    }\r\n                } else if (this.InsideRect(imui.mousePos.x, imui.mousePos.y, downRect) && this.Clicked()) {\r\n                    if (this.scrollOffset !== null) {\r\n                        this.scrollOffset = this.scrollOffset + 1 > this.list.length - 1 ? this.list.length - 1: this.scrollOffset + 1\r\n                    }\r\n                } else if (this.InsideRect(imui.mousePos.x, imui.mousePos.y, { x: scrollBarRect.x, y: scrollBarRect.y + caretPos, w: scrollBarRect.w, h: imui.font.cwidth}) && this.state.mouseDown) {\r\n                    this.draggingCaret = true\r\n                } else if (this.InsideRect(imui.mousePos.x, imui.mousePos.y, scrollBarRect) && this.Clicked()) {\r\n                    if (this.scrollOffset !== null) {\r\n                        if (imui.mousePos.y < scrollBarRect.y + caretPos) {\r\n                            this.scrollOffset = this.scrollOffset - 10 > 0 ? this.scrollOffset - 10 : 0\r\n                        } else if (imui.mousePos.y > scrollBarRect.y + caretPos + imui.font.cheight) {\r\n                            this.scrollOffset = this.scrollOffset + 10 < this.list.length - 1 ? this.scrollOffset + 10 : this.list.length - 1\r\n                        }\r\n                    }\r\n                }\r\n            } else if (this.draggingCaret && this.state.mouseDown) {\r\n                this.scrollOffset = parseInt(((imui.mousePos.y - scrollBarRect.y) / scrollBarRect.h) * (this.list.length - 2))\r\n                if (this.scrollOffset < 0) {\r\n                    this.scrollOffset = 0\r\n                } else if (this.scrollOffset > this.list.length - 1) {\r\n                    this.scrollOffset = this.list.length - 1\r\n                }\r\n                caretBg = this.color\r\n                caretColr = this.bgScrollbar\r\n            } else if (this.draggingCaret) {\r\n                this.draggingCaret = false\r\n            }\r\n            let caretHovered = this.InsideRect(imui.mousePos.x, imui.mousePos.y, { x: scrollBarRect.x, y: scrollBarRect.y + caretPos, w: scrollBarRect.w, h: imui.font.cwidth})\r\n            imui.DrawText(scrollBarRect.x, scrollBarRect.y + caretPos, 254, caretHovered ? this.highlight : caretColr, { background: { colour: caretBg } })\r\n        }\r\n    }\r\n}\r\n\r\nexport default List","import Element from './Element.js'\r\n\r\nclass Image extends Element {\r\n    constructor(params) {\r\n        super(params)\r\n        this.rect.h = parseInt(this.rect.h / 16) * 16\r\n        this.rect.w = parseInt(this.rect.w / 9) * 9\r\n\r\n        this.image = params.image ? params.image : null\r\n    }\r\n\r\n    _Draw(imui, rect) {\r\n        if (this.image) {\r\n            imui.ctx.drawImage(this.image, this.rect.x, this.rect.y)\r\n        }\r\n    }\r\n}\r\n\r\nexport default Image","import Element from './Element.js'\r\n\r\nclass FrameImage extends Element {\r\n    constructor(params) {\r\n        super(params)\r\n\r\n        this.image = params.image ? params.image : null\r\n        if (params.innerRect) {\r\n\r\n        } else if (params.borderWidth) {\r\n            this.innerRect = {\r\n                x: params.borderWidth,\r\n                y: params.borderWidth,\r\n                w: this.rect.w - params.borderWidth * 2,\r\n                h: this.rect.h - params.borderWidth * 2\r\n            }\r\n        } else {\r\n            this.innerRect = {\r\n                x: 0, y: 0,\r\n                w: this.rect.w, h: this.rect.h\r\n            }\r\n        }\r\n    }\r\n\r\n    _Draw(imui, rect) {\r\n        if (this.bgcolor) {\r\n            imui.DrawRect(rect, this.bgcolor)\r\n        }\r\n\r\n        if (this.image) {\r\n            // Top Left Corner\r\n            imui.ctx.drawImage(this.image, 0, 0, this.innerRect.x, this.innerRect.y, this.rect.x, this.rect.y, this.innerRect.x, this.innerRect.y)\r\n            // Top Right Corner\r\n            imui.ctx.drawImage(this.image, this.image.width - this.innerRect.x, 0, this.innerRect.x, this.innerRect.y, this.rect.x + this.rect.w - this.innerRect.x, this.rect.y, this.innerRect.x, this.innerRect.y)\r\n            // Bottom Left Corner\r\n            imui.ctx.drawImage(this.image, 0, this.image.height - this.innerRect.y, this.innerRect.x, this.innerRect.y, this.rect.x, this.rect.y + this.rect.h - this.innerRect.y, this.innerRect.x, this.innerRect.y)\r\n            // Bottom Right Corner\r\n            imui.ctx.drawImage(this.image, this.image.width - this.innerRect.x, this.image.height - this.innerRect.y, this.innerRect.x, this.innerRect.y, this.rect.x + this.rect.w - this.innerRect.x, this.rect.y + this.rect.h - this.innerRect.y, this.innerRect.x, this.innerRect.y)\r\n\r\n            // Top Middle Section\r\n            for (let dx = this.rect.x + this.innerRect.x; dx < this.rect.x + this.rect.w - this.innerRect.x; dx += this.image.width - this.innerRect.x * 2) {\r\n                let dw = this.image.width - this.innerRect.x * 2\r\n                if (dx + dw > this.rect.x + this.rect.w - this.innerRect.x) {\r\n                    dw = this.rect.x + this.rect.w - this.innerRect.x - dx\r\n                }\r\n                imui.ctx.drawImage(this.image, this.innerRect.x, 0, dw, this.innerRect.y, dx, this.rect.y, dw, this.innerRect.y)\r\n            }\r\n            // Bottom Middle Section\r\n            for (let dx = this.rect.x + this.innerRect.x; dx < this.rect.x + this.rect.w - this.innerRect.x; dx += this.image.width - this.innerRect.x * 2) {\r\n                let dw = this.image.width - this.innerRect.x * 2\r\n                if (dx + dw > this.rect.x + this.rect.w - this.innerRect.x) {\r\n                    dw = this.rect.x + this.rect.w - this.innerRect.x - dx\r\n                }\r\n                imui.ctx.drawImage(this.image, this.innerRect.x, this.image.height - this.innerRect.y, dw, this.innerRect.y, dx, this.rect.y + this.rect.h - this.innerRect.y, dw, this.innerRect.y)\r\n            }\r\n\r\n            // Left Middle Section\r\n            for (let dy = this.rect.y + this.innerRect.y; dy < this.rect.y + this.rect.h - this.innerRect.y; dy += this.image.height - this.innerRect.y * 2) {\r\n                let dh = this.image.height - this.innerRect.y * 2\r\n                if (dy + dh > this.rect.y + this.rect.h - this.innerRect.y) {\r\n                    dh = this.rect.y + this.rect.h - this.innerRect.y - dy\r\n                }\r\n                imui.ctx.drawImage(this.image, 0, this.innerRect.y, this.innerRect.x, dh, this.rect.x, dy, this.innerRect.x, dh)\r\n            }\r\n            // Right Middle Section\r\n            for (let dy = this.rect.y + this.innerRect.y; dy < this.rect.y + this.rect.h - this.innerRect.y; dy += this.image.height - this.innerRect.y * 2) {\r\n                let dh = this.image.height - this.innerRect.y * 2\r\n                if (dy + dh > this.rect.y + this.rect.h - this.innerRect.y) {\r\n                    dh = this.rect.y + this.rect.h - this.innerRect.y - dy\r\n                }\r\n                imui.ctx.drawImage(this.image, this.image.width - this.innerRect.x, this.innerRect.y, this.innerRect.x, dh, this.rect.x + this.rect.w - this.innerRect.x, dy, this.innerRect.x, dh)\r\n            }\r\n\r\n            // Centre\r\n            let sx = this.innerRect.x\r\n            let sy = this.innerRect.y\r\n            let sw = this.image.width - this.innerRect.x * 2\r\n            let sh = this.image.height - this.innerRect.y * 2\r\n            let dx = this.innerRect.x + this.rect.x\r\n            let dy = this.innerRect.y + this.rect.y\r\n            while (dy < this.rect.y + this.rect.h - this.innerRect.y) {\r\n                let w = sw\r\n                let h = sh\r\n                if (dx + w > this.rect.x + this.rect.w - this.innerRect.x) {\r\n                    w = this.rect.x + this.rect.w - this.innerRect.x - dx\r\n                }\r\n                if (dy + h > this.rect.y + this.rect.h - this.innerRect.y) {\r\n                    h = this.rect.y + this.rect.h - this.innerRect.y - dy\r\n                }\r\n                imui.ctx.drawImage(this.image, sx, sy, w, h, dx, dy, w, h)\r\n                dx += sw\r\n                if (dx > this.rect.x + this.rect.w - this.innerRect.x) {\r\n                    dx = this.innerRect.x + this.rect.x\r\n                    dy += sh\r\n                }\r\n            }\r\n        }\r\n        let txt = this.text.length > (rect.w - 2) / imui.font.cwidth ? this.text.substr(0, parseInt((rect.w - 2) / imui.font.cwidth)) : this.text\r\n\r\n        imui.DrawText(rect.x + this.innerRect.x, rect.y + this.innerRect.y, txt, this.color)\r\n    }\r\n}\r\n\r\nexport default FrameImage","import Element from './Element.js'\r\n\r\nclass ButtonImage extends Element {\r\n    constructor(params) {\r\n        super(params)\r\n\r\n        this.image = params.image ? params.image : null\r\n        this.imageDown = params.imageDown ? params.imageDown : null\r\n        this.imageHover = params.imageHover ? params.imageHover : null\r\n        \r\n        if (params.innerRect) {\r\n            this.innerRect = params.innerRect\r\n        } else if (params.borderWidth) {\r\n            this.innerRect = {\r\n                x: params.borderWidth,\r\n                y: params.borderWidth,\r\n                w: this.rect.w - params.borderWidth * 2,\r\n                h: this.rect.h - params.borderWidth * 2\r\n            }\r\n        } else {\r\n            this.innerRect = {\r\n                x: 0, y: 0,\r\n                w: this.rect.w, h: this.rect.h\r\n            }\r\n        }\r\n    }\r\n\r\n    drawImageSlice(imui, image) {\r\n        if (image) {\r\n            // Top Left Corner\r\n            imui.ctx.drawImage(image, 0, 0, this.innerRect.x, this.innerRect.y, this.rect.x, this.rect.y, this.innerRect.x, this.innerRect.y)\r\n            // Top Right Corner\r\n            imui.ctx.drawImage(image, image.width - this.innerRect.x, 0, this.innerRect.x, this.innerRect.y, this.rect.x + this.rect.w - this.innerRect.x, this.rect.y, this.innerRect.x, this.innerRect.y)\r\n            // Bottom Left Corner\r\n            imui.ctx.drawImage(image, 0, image.height - this.innerRect.y, this.innerRect.x, this.innerRect.y, this.rect.x, this.rect.y + this.rect.h - this.innerRect.y, this.innerRect.x, this.innerRect.y)\r\n            // Bottom Right Corner\r\n            imui.ctx.drawImage(image, image.width - this.innerRect.x, image.height - this.innerRect.y, this.innerRect.x, this.innerRect.y, this.rect.x + this.rect.w - this.innerRect.x, this.rect.y + this.rect.h - this.innerRect.y, this.innerRect.x, this.innerRect.y)\r\n\r\n            // Top Middle Section\r\n            for (let dx = this.rect.x + this.innerRect.x; dx < this.rect.x + this.rect.w - this.innerRect.x; dx += image.width - this.innerRect.x * 2) {\r\n                let dw = image.width - this.innerRect.x * 2\r\n                if (dx + dw > this.rect.x + this.rect.w - this.innerRect.x) {\r\n                    dw = this.rect.x + this.rect.w - this.innerRect.x - dx\r\n                }\r\n                imui.ctx.drawImage(image, this.innerRect.x, 0, dw, this.innerRect.y, dx, this.rect.y, dw, this.innerRect.y)\r\n            }\r\n            // Bottom Middle Section\r\n            for (let dx = this.rect.x + this.innerRect.x; dx < this.rect.x + this.rect.w - this.innerRect.x; dx += image.width - this.innerRect.x * 2) {\r\n                let dw = image.width - this.innerRect.x * 2\r\n                if (dx + dw > this.rect.x + this.rect.w - this.innerRect.x) {\r\n                    dw = this.rect.x + this.rect.w - this.innerRect.x - dx\r\n                }\r\n                imui.ctx.drawImage(image, this.innerRect.x, image.height - this.innerRect.y, dw, this.innerRect.y, dx, this.rect.y + this.rect.h - this.innerRect.y, dw, this.innerRect.y)\r\n            }\r\n\r\n            // Left Middle Section\r\n            for (let dy = this.rect.y + this.innerRect.y; dy < this.rect.y + this.rect.h - this.innerRect.y; dy += image.height - this.innerRect.y * 2) {\r\n                let dh = image.height - this.innerRect.y * 2\r\n                if (dy + dh > this.rect.y + this.rect.h - this.innerRect.y) {\r\n                    dh = this.rect.y + this.rect.h - this.innerRect.y - dy\r\n                }\r\n                imui.ctx.drawImage(image, 0, this.innerRect.y, this.innerRect.x, dh, this.rect.x, dy, this.innerRect.x, dh)\r\n            }\r\n            // Right Middle Section\r\n            for (let dy = this.rect.y + this.innerRect.y; dy < this.rect.y + this.rect.h - this.innerRect.y; dy += image.height - this.innerRect.y * 2) {\r\n                let dh = image.height - this.innerRect.y * 2\r\n                if (dy + dh > this.rect.y + this.rect.h - this.innerRect.y) {\r\n                    dh = this.rect.y + this.rect.h - this.innerRect.y - dy\r\n                }\r\n                imui.ctx.drawImage(image, image.width - this.innerRect.x, this.innerRect.y, this.innerRect.x, dh, this.rect.x + this.rect.w - this.innerRect.x, dy, this.innerRect.x, dh)\r\n            }\r\n\r\n            // Centre\r\n            \r\n            let sx = this.innerRect.x\r\n            let sy = this.innerRect.y\r\n            let sw = image.width - this.innerRect.x * 2\r\n            let sh = image.height - this.innerRect.y * 2\r\n            let dx = this.innerRect.x + this.rect.x\r\n            let dy = this.innerRect.y + this.rect.y\r\n            while (dy < this.rect.y + this.rect.h - this.innerRect.y) {\r\n                let w = sw\r\n                let h = sh\r\n                if (dx + w > this.rect.x + this.rect.w - this.innerRect.x) {\r\n                    w = this.rect.x + this.rect.w - this.innerRect.x - dx\r\n                }\r\n                if (dy + h > this.rect.y + this.rect.h - this.innerRect.y) {\r\n                    h = this.rect.y + this.rect.h - this.innerRect.y - dy\r\n                }\r\n                imui.ctx.drawImage(image, sx, sy, w, h, dx, dy, w, h)\r\n                dx += sw\r\n                if (dx > this.rect.x + this.rect.w - this.innerRect.x) {\r\n                    dx = this.innerRect.x + this.rect.x\r\n                    dy += sh\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    _Draw(imui, rect) {\r\n        let offy = this.state.mouseDown ? 2 : 0\r\n        let colr = this.Hover() ? this.highlight : this.color\r\n\r\n        if (this.Hover() && !this.state.mouseDown && this.imageHover) {\r\n            this.drawImageSlice(imui, this.imageHover)\r\n        } else if (this.state.mouseDown && this.imageDown) {\r\n            this.drawImageSlice(imui, this.imageDown)\r\n        } else {\r\n            this.drawImageSlice(imui, this.image)\r\n        }\r\n        \r\n        let txt = this.text.length > (rect.w - 2) / imui.font.cwidth ? this.text.substr(0, parseInt((rect.w - 2) / imui.font.cwidth)) : this.text\r\n    \r\n\r\n        imui.DrawText(rect.x + (rect.w / 2) - (txt.length * imui.font.cwidth) / 2, rect.y + (rect.h / 2) - (imui.font.cheight / 2) + offy, txt, colr)\r\n    }\r\n}\r\n\r\nexport default ButtonImage","import { GetElementType } from './elements.js'\r\n\r\nclass ImUI {\r\n    constructor(canvas, font) {\r\n        this.canvas = canvas\r\n        this.originalCanvas = canvas\r\n        this.ctx = canvas.getContext('2d')\r\n        this.originalCtx = this.ctx\r\n        bfontjs.LoadDefaultFonts()\r\n        this.font = font ? font : bfontjs.Fonts('default')\r\n\r\n        this.mousePos = { x: 0, y: 0 }\r\n        this.mouseButton = 0\r\n        \r\n        this.active = null\r\n        this.elements = []\r\n        this.postUpdateIds = []\r\n          \r\n        this.onUpdate = () => {\r\n            return []\r\n        }\r\n\r\n        this.canvas.addEventListener('mousemove', (e) => {\r\n            if (this.executing) {\r\n                this.mousePos.x = parseInt((e.clientX - canvas.offsetLeft) * (this.canvas.width / parseInt(this.canvas.style.width)))\r\n                this.mousePos.y = parseInt((e.clientY - canvas.offsetTop) * (this.canvas.height / parseInt(this.canvas.style.height)))\r\n            }\r\n        })\r\n\r\n        this.canvas.addEventListener('mousedown', (e) => {\r\n            if (this.executing) {\r\n                this.mouseButton = e.buttons\r\n            }\r\n        })\r\n        \r\n        this.canvas.addEventListener('mouseup', (e) => {\r\n            if (this.executing) {\r\n                this.mouseButton = 0\r\n            }\r\n        })\r\n\r\n        window.addEventListener('keydown', (e) => {\r\n            if (this.executing) {\r\n                if (e.key === 'Tab') {\r\n                e.preventDefault()                \r\n                }\r\n            }\r\n        })\r\n\r\n        window.addEventListener('keyup', (e) => {\r\n            if (this.executing) {\r\n                if (this.active) {\r\n                    let element = this.elements.filter(f => f !== undefined).filter(f => f.id === this.active)\r\n                    if (element.length > 0 && element[0].editable) {\r\n                        if (e.key.length === 1) {\r\n                            element[0].prevText = element[0].text\r\n                            element[0].text += e.key\r\n                        } else if (e.key === 'Backspace') {\r\n                            element[0].prevText = element[0].text\r\n                            element[0].text = element[0].text.substring(0, element[0].text.length - 1)\r\n                        } else if (e.key === 'Enter') {\r\n                            this.active = null\r\n                        }\r\n                    }\r\n                    if (element.length > 0) {\r\n                        if (e.key === 'Tab') {\r\n                            let index = this.elements.findIndex(f => f.id === this.active)\r\n                            if (index + 1 < this.elements.length) {\r\n                                index++\r\n                            } else {\r\n                                index = 0\r\n                            }\r\n                            this.active = this.elements[index].id\r\n                        }\r\n                    }\r\n                } else if (this.elements.length > 0) {\r\n                    if (e.key === 'Tab') {\r\n                        this.active = this.elements[0].id\r\n                    }\r\n                }\r\n            }\r\n            return false\r\n        })\r\n        \r\n        this.Enable()\r\n    }\r\n\r\n    Disable() {\r\n        this.executing = false\r\n    }\r\n\r\n    Enable() {\r\n        this.executing = true\r\n        this.UpdateThread()\r\n    }\r\n\r\n    // Update async thread.\r\n    UpdateThread() {\r\n        try {\r\n            let preUpdateIds = this.elements.map(el => el.id)\r\n\r\n            this.postUpdateIds = []\r\n\r\n            this.elements = this.elements.filter(f => f !== undefined)\r\n            this.onUpdate(this)\r\n\r\n            for (let id in preUpdateIds) {\r\n                if (this.postUpdateIds.filter(f => f === preUpdateIds[id]).length === 0) {\r\n                    this.elements[this.elements.findIndex(f => f !== undefined && f.id === preUpdateIds[id])] = undefined\r\n                }\r\n            }\r\n            this.elements = this.elements.filter(f => f !== undefined)\r\n    \r\n            this.Update()\r\n            \r\n            if (this.executing) {\r\n                setTimeout(() => this.UpdateThread(), 16)\r\n            }\r\n        } catch (e) { console.error(e) }\r\n    }\r\n\r\n    ChangeContext(canvas) {\r\n        this.canvas = canvas\r\n        this.ctx = canvas.getContext('2d')\r\n    }\r\n    \r\n    ResetContext() {\r\n        this.canvas = this.originalCanvas\r\n        this.ctx = this.originalCtx\r\n    }\r\n\r\n    Element(params) {\r\n        params.type = params.type ? params.type : 'element'\r\n        let elem = this.elements.filter(f => f.id === params.id)\r\n        if (elem.length === 0) {\r\n            let ElementClass = GetElementType(params.type)\r\n            let el = new ElementClass(params)\r\n            el.Update(this, false)\r\n            this.elements.push(el)\r\n            this.postUpdateIds.push(params.id)\r\n            return el\r\n        } else {\r\n            this.postUpdateIds.push(params.id)\r\n            for (let p in params) {\r\n                elem[0][p] = params[p]\r\n            }\r\n            return elem[0]\r\n        }\r\n    }\r\n    \r\n    DrawTextFont(font, x, y, text, color, effects) {\r\n        bfontjs.DrawText(this.ctx, parseInt(x), parseInt(y), text, color, font, effects)\r\n    }\r\n\r\n    DrawText(x, y, text, color, effects) {\r\n        this.DrawTextFont(this.font, x, y, text, color, effects)\r\n    }\r\n    \r\n    DrawRect(rect, color) {\r\n        this.ctx.fillStyle = color\r\n        this.ctx.fillRect(rect.x, rect.y, rect.w, rect.h)\r\n    }\r\n    \r\n    StrokeRect(rect, color) {\r\n        this.ctx.lineWidth = 1\r\n        this.ctx.strokeStyle = color\r\n        this.ctx.strokeRect(parseInt(rect.x) + 0.5, parseInt(rect.y) + 0.5, parseInt(rect.w), parseInt(rect.h))\r\n    }\r\n    StrokeLine(x, y, x2, y2, color) {\r\n        this.ctx.lineWidth = 1\r\n        this.ctx.strokeStyle = color\r\n\r\n        this.ctx.beginPath()\r\n        this.ctx.moveTo(parseInt(x) + 0.5, parseInt(y) + 0.5)\r\n        this.ctx.lineTo(parseInt(x2) + 0.5, parseInt(y2) + 0.5)\r\n        this.ctx.stroke()\r\n    }\r\n\r\n    Update() {\r\n        let eventHandled = false\r\n        for (let e = this.elements.length - 1; e >= 0; e--) {\r\n            if (!eventHandled && this.elements[e]) {\r\n                eventHandled = this.elements[e].Update(this, eventHandled)\r\n            }\r\n        }\r\n    }\r\n\r\n    Draw() {\r\n        for (let e in this.elements) {\r\n            if (this.elements[e]) {\r\n                this.elements[e].Draw(this)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport { ImUI }","import Element from './elements/Element.js'\r\nimport FrameFlat from './elements/FrameFlat.js'\r\nimport Frame3d from './elements/Frame3d.js'\r\nimport Button3d from './elements/Button3d.js'\r\nimport ButtonFlat from './elements/ButtonFlat.js'\r\nimport TextBoxFlat from './elements/TextBoxFlat.js'\r\nimport List from './elements/List.js'\r\nimport Image from './elements/Image.js'\r\nimport FrameImage from './elements/FrameImage.js'\r\nimport ButtonImage from './elements/ButtonImage.js'\r\n\r\nfunction GetElementType(type) {\r\n    switch(type.toLowerCase()) {\r\n        case 'element':\r\n            return Element\r\n        case 'frameflat':\r\n            return FrameFlat\r\n        case 'frame3d':\r\n            return Frame3d\r\n        case 'button3d':\r\n            return Button3d\r\n        case 'buttonflat':\r\n            return ButtonFlat\r\n        case 'textboxflat':\r\n            return TextBoxFlat\r\n        case 'list':\r\n            return List\r\n        case 'image':\r\n            return Image\r\n        case 'frameimage':\r\n            return FrameImage\r\n        case 'buttonimage':\r\n            return ButtonImage\r\n    }\r\n}\r\n\r\nexport { Element, FrameFlat, Frame3d, Button3d, ButtonFlat, TextBoxFlat, List, Image, FrameImage, ButtonImage, GetElementType }"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__517__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","constructor","params","id","Error","this","autosize","rect","x","y","w","h","color","bgcolor","text","prevText","font","state","clicked","mouseOver","mouseDown","mouseUp","change","prevState","buffer","drawBuffer","InitializeBuffer","margin","console","log","mx","my","document","createElement","width","height","bufferCtx","getContext","createCanvas","DidChangeState","BuildPreviousState","InsideRect","Clicked","Hover","MouseDown","MouseUp","setState","p","Update","imui","eventHandled","evt","length","cwidth","cheight","active","changed","mousePos","mouseButton","_Draw","DrawRect","textcolor","highlight","DrawTextFont","DrawText","Draw","ChangeContext","initialDrawComplete","clearRect","ResetContext","ctx","drawImage","super","parseInt","txt","substr","borderRect","StrokeRect","inverted","shadow","StrokeLine","leftChar","rightChar","defaultText","editable","Text","Date","now","bgScrollbar","list","currentItem","scrollOffset","horizontal","scrollbar","draggingCaret","dx","dy","l","txtRect","isHoverItem","isMouseDownItem","background","colour","upRect","downRect","scrollBarRect","caretPos","caretColr","caretBg","caretHovered","image","innerRect","borderWidth","dw","dh","sx","sy","sw","sh","imageDown","imageHover","drawImageSlice","offy","colr","ImUI","canvas","originalCanvas","originalCtx","bfontjs","LoadDefaultFonts","Fonts","elements","postUpdateIds","onUpdate","addEventListener","e","executing","clientX","offsetLeft","style","clientY","offsetTop","buttons","window","preventDefault","element","filter","f","substring","index","findIndex","Enable","Disable","UpdateThread","preUpdateIds","map","el","setTimeout","error","Element","type","elem","toLowerCase","GetElementType","push","effects","fillStyle","fillRect","lineWidth","strokeStyle","strokeRect","x2","y2","beginPath","moveTo","lineTo","stroke"],"sourceRoot":""}